{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst LS_KEY = \"feedback-form-state\";\n\nlet form = document.querySelector('.feedback-form');\n\nlet dataForm = JSON.parse(localStorage.getItem(LS_KEY)) || { email: '', message: '' };\nconst { email, message } = form.elements;\nemail.value = dataForm.email;\nmessage.value = dataForm.message;\n\nconst onInputData = evt => {\n    dataForm = { email: email.value, message: message.value };\n    localStorage.setItem(LS_KEY, JSON.stringify(dataForm));\n};\n\nconst onFormSubmit = evt => {\n    evt.preventDefault();\n\n    if (email.value === '' || message.value === '') {\n        return alert('Please fill in all the fields!');\n    };\n\n    console.log({ email: email.value, message: message.value });\n    localStorage.removeItem(LS_KEY);\n    form.reset();\n};\n\nform.addEventListener('input', throttle(onInputData, 500));\nform.addEventListener('submit', onFormSubmit);\n"],"names":["LS_KEY","form","dataForm","email","message","onInputData","evt","onFormSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAS,sBAEf,IAAIC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,KAAK,MAAM,aAAa,QAAQF,CAAM,CAAC,GAAK,CAAE,MAAO,GAAI,QAAS,EAAE,EACnF,KAAM,CAAE,MAAAG,EAAO,QAAAC,GAAYH,EAAK,SAChCE,EAAM,MAAQD,EAAS,MACvBE,EAAQ,MAAQF,EAAS,QAEzB,MAAMG,EAAcC,GAAO,CACvBJ,EAAW,CAAE,MAAOC,EAAM,MAAO,QAASC,EAAQ,OAClD,aAAa,QAAQJ,EAAQ,KAAK,UAAUE,CAAQ,CAAC,CACzD,EAEMK,EAAeD,GAAO,CAGxB,GAFAA,EAAI,eAAc,EAEdH,EAAM,QAAU,IAAMC,EAAQ,QAAU,GACxC,OAAO,MAAM,gCAAgC,EAGjD,QAAQ,IAAI,CAAE,MAAOD,EAAM,MAAO,QAASC,EAAQ,KAAK,CAAE,EAC1D,aAAa,WAAWJ,CAAM,EAC9BC,EAAK,MAAK,CACd,EAEAA,EAAK,iBAAiB,QAASO,EAASH,EAAa,GAAG,CAAC,EACzDJ,EAAK,iBAAiB,SAAUM,CAAY"}